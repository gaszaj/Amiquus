---
import ArticleLayout from '../layouts/ArticleLayout.astro';
import type { RelatedArticleInfo } from '../../layouts/ArticleLayout.astro';

// --- Article Specific Metadata ---
const articleMetadata = {
  title: "Varnost, označevanje in opozarjanje pri cestnih delih",
  description: "Načrtujete izvajanje cestnih del? V tem članku odkrijte ključne smernice za varnost vseh udeležencev v prometu, ki jih kot izvajalec gradbenih del na cestnih odsekih, enostavno ne smete spregledati.",
  publishDate: "2025-03-10",
  updateDate: "2025-03-15",
  author: {
    name: "Rastko Škrjanec",
    profileUrl: "/si/rastko-skrjanec",
    image: "/authors/Rastko-Škrjanec.webp"
  },

  headings: [ // This would typically be generated by Astro from Markdown/MDX content
    { depth: 2, slug: "varnost-pri-cestnih-delih", text: "Varnost pri cestnih delih" },
    { depth: 3, slug: "oznacevanje-in-opozarjanje", text: "Označevanje in opozarjanje pri cestnih delih" },
    { depth: 2, slug: "priporoceni-varnostni-ukrepi", text: "Priporočeni varnostni ukrepi in signalizacija" },
    { depth: 3, slug: "dodatni-znaki", text: "Dodatni znaki za označevanje pri cestnih delih" },
    { depth: 2, slug: "prakticni-nasveti", text: "Praktični nasveti za implementacijo" },
    { depth: 2, slug: "pogosta-vprasanja", text: "Pogosta vprašanja (FAQ)" },
    { depth: 3, slug: "naj-bodo-vasa-dela-varna", text: "Naj bodo vaša cestna dela varna in učinkovita" }
  ]
};

// --- Content for Layout Sections & UI Text ---
const layoutContent = {
  authorLabelText: "Članek je pripravil:",
  publishedLabelText: "Objavljeno:",
  updatedLabelText: "Posodobljeno:",
  mainDateLocale: "sl-SI",
  mainDateFormatOptions: { year: 'numeric', month: 'long', day: 'numeric' } as Intl.DateTimeFormatOptions,
  relatedDateLocale: "en-US",
  relatedDateFormatOptions: { year: 'numeric', month: 'short', day: 'numeric' } as Intl.DateTimeFormatOptions,
  tocContent: {
    title: "Na tej strani"
  },
  editorialPolicyContent: {
    title: "Uredniška politika",
    description: "Naši članki so skrbno pripravljeni in preverjeni s strani strokovnjakov. Preberite našo uredniško politiko za več informacij o našem procesu.",
    ctaText: "Preberite več →",
    ctaLink: "/si/uredniska-politika"
  },
  disclaimerContent: {
    text: "Vsebina tega članka je zgolj informativne narave in ne predstavlja uradnih navodil. Za točne podatke o varnostnih zahtevah se posvetujte s pristojnimi institucijami."
  },
  helpBoxContent: {
    title: "Potrebujete pomoč?",
    description: "Kontaktirajte naše strokovno osebje, ki vam bo pomagalo pri ustreznem zavarovanju območja.",
    ctaText: "Vprašajte nas",
    ctaLink: "mailto:info@eusignal.com"
  }
};

// --- Related Articles Data and Logic ---
const allDomainArticles: RelatedArticleInfo[] = [ // Simulating a larger pool of articles
  { title: "Varnost, označevanje in opozarjanje pri tekaških dogodkih", url: "/articles/safety-signs-visibility-night", date: "2025-03-15" },
  { title: "Varnost, označevanje in opozarjanje pri športnih dogodkih", url: "/articles/eu-regulations-road-warning-systems", date: "2025-03-10" },
  { title: "Varnost, označevanje in opozarjanje pri kolesarskih dirkah", url: "/articles/maintain-triopan-warning-signs", date: "2025-03-05" },
  { title: "Varnost, označevanje in opozarjanje pri športnih turnirjih", url: "/articles/warning-signs-construction-sites", date: "2025-02-28" },
  { title: "Varnost, označevanje in opozarjanje pri športnih dnevih", url: "/articles/event-safety-warning-systems", date: "2025-02-20" },
  { title: "Varnost, označevanje in opozarjanje pri šolskih tekmovanjih", url: "/articles/highway-work-zone-safety", date: "2025-02-15" },
  { title: "Varnost, označevanje in opozarjanje pri javnih prireditvah", url: "/articles/emergency-response-warning-systems", date: "2025-02-10" },
  { title: "Varnost, označevanje in opozarjanje pri športnih objektih", url: "/articles/safety-sign-technology-innovation", date: "2025-02-05" }
];

const relatedArticlesForPage = {
  title: "Sorodni članki",
  articles: allDomainArticles
    .filter(article => article.title !== articleMetadata.title)
    .slice(0, 9)
};

// --- Product Data (specific to this article's content, stays in the page) ---
const basicSigns = [
  { name: "Opozorilna piramida ČIŠČENJE BAZENOV", image: "/productimg/triopan-čiščenje-bazenov.webp", url: "/si/opozorilna-piramida/delo-na-cesti" },
  { name: "Opozorilna piramida STOP", image: "/productimg/triopan-stop.webp", url: "/si/opozorilna-piramida/stop" },
  { name: "Opozorilna piramida OBVEZNA SMER DESNO", image: "/productimg/triopan-obvezna-smer-desno.webp", url: "/si/opozorilna-piramida/obvezna-smer-desno" }
];

const additionalSigns = [
  {
    image: "/productimg/triopan-pozor-viličar.webp",
    name: "Opozorilna piramida DELO NA CESTI 250m",
    url: "/si/opozorilna-piramida/delo-na-cesti-250m"
  },
  {
    image: "/productimg/triopan-delo-na-cesti.webp",
    name: "Opozorilna piramida DELO NA CESTI 500m",
    url: "/si/opozorilna-piramida/delo-na-cesti-500m"
  },
  {
    image: "/productimg/triopan-parkirni-prostor.webp",
    name: "Opozorilna piramida OBVOZ",
    url: "/si/opozorilna-piramida/obvoz"
  },
  {
    image: "/productimg/triopan-šolska-pot.webp",
    name: "Opozorilna piramida ŠOLSKA POT",
    url: "/si/opozorilna-piramida/šolska-pot"
  },
  {
    image: "/productimg/triopan-zoženje-z-desne.webp",
    name: "Opozorilna piramida ZOŽENJE Z DESNE",
    url: "/si/opozorilna-piramida/zozenje-z-desne"
  },
  {
    image: "/productimg/triopan-zoženje-z-leve.webp",
    name: "Opozorilna piramida ZOŽENJE Z LEVE",
    url: "/si/opozorilna-piramida/zozenje-z-leve"
  },
  {
    image: "/productimg/triopan-omejitev-hitrosti-10.webp",
    name: "Opozorilna piramida OMEJITEV HITROSTI",
    url: "/si/opozorilna-piramida/omejitev-hitrosti"
  }
];

const productButtonText = "Naroči znak"; // UI text for slotted content
const tableLinkText = "Več informacij →"; // UI text for slotted content

// --- Article Schema ---
const articleSchema = {
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": articleMetadata.title,
  "url": Astro.url.href,
  "description": articleMetadata.description,
  "inLanguage": layoutContent.mainDateLocale,
  "breadcrumb": {
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": articleMetadata.title,
        "item": Astro.url.href
      }
    ]
  },
  "mainEntity": {
    "@type": "Article",
    "headline": articleMetadata.title,
    "description": articleMetadata.description,
    "image": articleMetadata.author.image,
    "author": {
      "@type": "Person",
      "name": articleMetadata.author.name,
      "image": articleMetadata.author.image,
      "url": articleMetadata.author.profileUrl
    },
    "datePublished": articleMetadata.publishDate,
    "dateModified": articleMetadata.updateDate,
    "inLanguage": layoutContent.mainDateLocale
  }
};

// FAQ Schema
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "Koliko opozorilnih znakov potrebujemo pri cestnih delih?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Za osnovno gradbišče na lokalni cesti potrebujete običajno 8-10 znakov: 2-3 za najavo del, 2-3 za označitev obvoza in 3-4 za označitev samega gradbišča."
      }
    },
    {
      "@type": "Question",
      "name": "Kdaj je najbolje postaviti opozorilne znake pri cestnih delih?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Znake postavite vsaj dan pred začetkom del."
      }
    },
    {
      "@type": "Question",
      "name": "Kako najbolje označiti gradbišče v križišču?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Križišče mora biti označeno iz vseh smeri: znaki za najavo del, oznake obveznih smeri in po potrebi znaki za obvoz."
      }
    }
  ]
};

// Organization Schema
const organizationSchema = {
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "EUSIGNAL",
  "url": "https://eusignal.com",
  "foundingDate": "2020",
  "logo": "/images/logo.png",
  "keywords": [
    "EUSIGNAL",
    "Premium varnostni znaki",
    "Slovenija"
  ],
  "description": "EUSIGNAL is a provider of Premium varnostni znaki (premium safety signs) in Slovenija (Slovenia), established in 2020.",
  "numberOfEmployees": {
    "@type": "QuantitativeValue",
    "minValue": "1",
    "maxValue": "9"
  },
  "slogan": "Premium varnostni znaki in opozorilni sistemi",
  "contactPoint": {
    "@type": "ContactPoint",
    "email": "info@eusignal.com",
    "contactType": "customer service"
  },
  "sameAs": [
    "https://www.instagram.com/eusignal",
    "https://www.facebook.com/eusignal",
    "https://twitter.com/eusignal",
    "https://www.linkedin.com/company/eusignal",
    "https://www.tiktok.com/@eusignal",
    "https://www.youtube.com/@eusignal",
    "https://www.pinterest.com/eusignal"
  ],
  "areaServed": {
    "@type": "Country",
    "name": "Slovenia",
    "identifier": "SI"
  },
  "potentialAction": [
    {
      "@type": "ViewAction",
      "name": "View our Sitemap",
      "target": "https://eusignal.com/sitemap.xml"
    },
    {
      "@type": "ViewAction",
      "name": "View our Slovenian Sitemap (sl-SI)",
      "target": "https://eusignal.com/sitemap-sl-SI.xml"
    },
    {
      "@type": "ViewAction",
      "name": "Information for Large Language Models",
      "target": "https://eusignal.com/llms.txt",
      "description": "Provides a condensed overview and key information about EUSIGNAL for AI agents and crawlers."
    }
  ],
  "mainEntityOfPage": [
    {
      "@type": "WebPage",
      "@id": "https://eusignal.com/sitemap.xml",
      "name": "XML Sitemap for EUSIGNAL",
      "description": "Provides a structured list of pages available on https://eusignal.com for crawlers."
    },
    {
      "@type": "WebPage",
      "@id": "https://eusignal.com/sitemap-sl-SI.xml",
      "name": "XML Sitemap (sl-SI) for EUSIGNAL",
      "description": "Provides a structured list of Slovenian (sl-SI) pages available on https://eusignal.com for crawlers."
    },
    {
      "@type": "WebPage",
      "@id": "https://eusignal.com/llms.txt",
      "name": "LLM Guidance for EUSIGNAL",
        "description": "A text resource outlining key information about EUSIGNAL (https://eusignal.com) offerings in EUSIGNAL for AI agents and crawlers. For more detailed information, please refer to the main website content and sitemap."
      }
  ]
};

// Combine all schemas
const schema = [articleSchema, faqSchema, organizationSchema];
---

<ArticleLayout
  title={articleMetadata.title}
  description={articleMetadata.description}
  publishDate={articleMetadata.publishDate}
  updateDate={articleMetadata.updateDate}
  author={articleMetadata.author}
  headings={articleMetadata.headings}
  mainDateLocale={layoutContent.mainDateLocale}
  mainDateFormatOptions={layoutContent.mainDateFormatOptions}
  relatedDateLocale={layoutContent.relatedDateLocale}
  relatedDateFormatOptions={layoutContent.relatedDateFormatOptions}
  authorLabelText={layoutContent.authorLabelText}
  publishedLabelText={layoutContent.publishedLabelText}
  updatedLabelText={layoutContent.updatedLabelText}
  tocContent={layoutContent.tocContent}
  editorialPolicyContent={layoutContent.editorialPolicyContent}
  disclaimerContent={layoutContent.disclaimerContent}
  relatedArticlesContent={relatedArticlesForPage}
  helpBoxContent={layoutContent.helpBoxContent}
  schema={schema}
>
  <!-- Main article content (HTML/MDX) goes here -->
  <h2 id="varnost-pri-cestnih-delih">Varnost pri cestnih delih</h2>
  <p>
    Pri gradbenih delih na cesti je največji izziv zaščita delavcev in hkratno usmerjanje prometa. Vozniki morajo pravočasno vedeti, da se približujejo gradbišču. Delavci potrebujejo dovolj velik in jasno označen delovni prostor. Na hitrih cestah in avtocestah je pravilno označevanje še posebej pomembno, saj imajo vozniki zaradi višje hitrosti manj časa za ukrepanje. Gradbišče moramo zato označiti na več zaporednih točkah, da se lahko vozniki pravočasno prilagodijo novemu prometnemu režimu.
  </p>

  <div class="fear-banner">
    Neustrezno označevanje cestnih del lahko privede do tragičnih nesreč in visokih kazni za odgovorne gradbene izvajalce!
  </div>

  <h3 id="oznacevanje-in-opozarjanje">Označevanje in opozarjanje pri cestnih delih</h3>
  <p>Za ustrezno označevanje cestnih del lahko uporabite prenosne piramidne znake:</p>
  
  <div class="basic-signs-grid">
    {basicSigns.map(sign => (
      <div class="product-card">
        <img 
          src={sign.image} 
          alt={sign.name}
          class="w-full h-48 object-contain p-4"
        />
        <div class="p-4 text-center product-card-content">
          <h4 class="font-medium text-signal-dark mb-4 product-title">{sign.name}</h4>
          <a 
            href={sign.url}
            class="block w-full bg-black text-signal-green border border-signal-green font-medium py-2 px-4 rounded-md hover:bg-signal-green hover:text-black transition-all text-center"
          >
            {productButtonText}
          </a>
        </div>
      </div>
    ))}
  </div>

  <p>
    Naši opozorilni piramidni znaki so enostavno zložljivi, UV odporni in zagotavljajo odlično vidljivost tudi v slabših vremenskih pogojih.
  </p>

  <h2 id="priporoceni-varnostni-ukrepi">Priporočeni varnostni ukrepi in signalizacija</h2>
  <p>
    Pri označevanju gradbenih del na cesti moramo misliti na več stvari hkrati. Najprej označimo spremembo prometnega režima - vozniki morajo točno vedeti, kako naj vozijo mimo gradbišča. Če dela potekajo dlje časa in v več fazah, mora biti vsaka faza označena posebej. Postavitev znakov prilagodimo tudi glede na del dneva. Ponoči in v slabem vremenu dodamo svetlobno signalizacijo, ki zagotavlja boljšo vidnost gradbišča.
  </p>

  <h3 id="dodatni-znaki">Dodatni znaki za označevanje pri cestnih delih</h3>
  
  <div class="overflow-x-auto my-8">
    <table class="w-full bg-white rounded-lg shadow-sm">
      <thead class="bg-gray-50">
        <tr>
          <th class="p-4 text-left">Slika</th>
          <th class="p-4 text-left">Ime znaka</th>
          <th class="p-4 text-left">Povezava</th>
        </tr>
      </thead>
      <tbody>
        {additionalSigns.map((sign, index) => (
          <tr class={index % 2 === 0 ? 'bg-gray-50' : ''}>
            <td class="p-4">
              <img 
                src={sign.image} 
                alt={sign.name}
                class="w-20 h-20 object-contain"
              />
            </td>
            <td class="p-4 font-medium text-signal-dark">{sign.name}</td>
            <td class="p-4">
              <a 
                href={sign.url}
                class="text-black underline decoration-signal-green hover:text-signal-green hover:decoration-black transition-colors"
              >
                {tableLinkText}
              </a>
            </td>
          </tr>
        ))}
      </tbody>
    </table>
  </div>

  <p>
    Naši opozorilni trikotniki se postavijo v nekaj trenutkih, odporni so na vse vremenske razmere in vidni do 300 metrov.
  </p>

  <h2 id="prakticni-nasveti">Praktični nasveti za implementacijo</h2>
  <p>
    Z označevanjem gradbišča vedno začnemo na najbolj oddaljeni točki. Na avtocesti prvi znak postavimo že 2-3 kilometre pred začetkom del, nato pa postopoma dodajamo oznake na vsakih 250-500 metrov. Pri delih v mestu ali na lokalnih cestah je ključno, da domačinom zagotovimo jasne informacije o obvozih. Če se prometni režim spreminja iz dneva v dan, moramo to jasno označiti že zjutraj ali ponoči.
  </p>

  <div class="helpful-banner">
    Med izvajanjem cestnih del redno preverjajte stanje vseh znakov, še posebej v nočnem času in ob slabem vremenu, ko je vidljivost zmanjšana.
  </div>

  <div class="faq-section">
    <h2 id="pogosta-vprasanja">Pogosta vprašanja (FAQ)</h2>
    <div class="faq-item">
      <h4 class="faq-question">Koliko opozorilnih znakov potrebujemo pri cestnih delih?</h4>
      <p class="faq-answer">Za osnovno gradbišče na lokalni cesti potrebujete običajno 8-10 znakov: 2-3 za najavo del, 2-3 za označitev obvoza in 3-4 za označitev samega gradbišča.</p>
    </div>
    <div class="faq-item">
      <h4 class="faq-question">Kdaj je najbolje postaviti opozorilne znake pri cestnih delih?</h4>
      <p class="faq-answer">Znake postavite vsaj dan pred začetkom del.</p>
    </div>
    <div class="faq-item">
      <h4 class="faq-question">Kako najbolje označiti gradbišče v križišču?</h4>
      <p class="faq-answer">Križišče mora biti označeno iz vseh smeri: znaki za najavo del, oznake obveznih smeri in po potrebi znaki za obvoz.</p>
    </div>
  </div>

  <h3 id="naj-bodo-vasa-dela-varna">Naj bodo vaša cestna dela varna in učinkovita</h3>
  <p>Preverite našo celotno ponudbo opozorilnih piramidnih znakov namenjenih posebej za označevanje cestnih del:</p>
  
  <div class="basic-signs-grid">
    {[...basicSigns, ...additionalSigns.slice(0, 3)].map(sign => (
      <div class="product-card">
        <img 
          src={sign.image} 
          alt={sign.name}
          class="w-full h-48 object-contain p-4"
          width={225}
          height={225}
        />
        <div class="p-4 text-center product-card-content">
          <h4 class="font-medium text-signal-dark mb-4 product-title">{sign.name}</h4>
          <a 
            href={sign.url}
            class="block w-full bg-black text-signal-green border border-signal-green font-medium py-2 px-4 rounded-md hover:bg-signal-green hover:text-black transition-all text-center"
          >
            {productButtonText}
          </a>
        </div>
      </div>
    ))}
  </div>
</ArticleLayout>